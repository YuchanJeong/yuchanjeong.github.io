



  




<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="dark"
  data-auto-appearance="false"
><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#FFFFFF" />
  
  <title>[Node.js 교과서] Node.js의 기능 &middot; Yuchan&#39;s hello world!</title>
    <meta name="title" content="[Node.js 교과서] Node.js의 기능 &middot; Yuchan&#39;s hello world!" />
  
  
  
  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js"
    integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="
  ></script>
  
  
  
  
  
  
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.b0785c8131a75f72b211435af86269eb2d4b81dda03a8f2cf5ccb1c967747167.css"
    integrity="sha256-sHhcgTGnX3KyEUNa&#43;GJp6y1Lgd2gOo8s9cyxyWd0cWc="
  />
  
    
    
    
  
  
  
    
    
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.f29ffdffd9ab4cc95250c3c7196b2d5dae8ee6ef0a4139451073f90183ae7e31.js"
      integrity="sha256-8p/9/9mrTMlSUMPHGWstXa6O5u8KQTlFEHP5AYOufjE="
      data-copy="Copy"
      data-copied="Copied"
    ></script>
  
  
  <meta
    name="description"
    content="
      
        제 3장.
      
    "
  />
  
  
  
  <link rel="canonical" href="https://yuchanjeong.github.io/posts/lectures/node.js-%EA%B5%90%EA%B3%BC%EC%84%9C/2/" />
  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:title" content="[Node.js 교과서] Node.js의 기능" />
<meta property="og:description" content="제 3장." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuchanjeong.github.io/posts/lectures/node.js-%EA%B5%90%EA%B3%BC%EC%84%9C/2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-04-05T00:00:00+00:00" />


  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="[Node.js 교과서] Node.js의 기능"/>
<meta name="twitter:description" content="제 3장."/>

  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "[Node.js 교과서] Node.js의 기능",
    "headline": "[Node.js 교과서] Node.js의 기능",
    
    "abstract": "제 3장.",
    "inLanguage": "en",
    "url" : "https:\/\/yuchanjeong.github.io\/posts\/lectures\/node.js-%EA%B5%90%EA%B3%BC%EC%84%9C\/2\/",
    "author" : {
      "@type": "Person",
      "name": ""
    },
    "copyrightYear": "2023",
    "dateCreated": "2023-04-05T00:00:00\u002b00:00",
    "datePublished": "2023-04-05T00:00:00\u002b00:00",
    
    "dateModified": "2023-04-05T00:00:00\u002b00:00",
    
    "keywords": ["node.js","Node.js 교과서","조현영(zerocho)"],
    
    "mainEntityOfPage": "true",
    "wordCount": "3735"
  }
  </script>
    
    <script type="application/ld+json">
    {
   "@context": "https://schema.org",
   "@type": "BreadcrumbList",
   "itemListElement": [
     {
       "@type": "ListItem",
       "item": "https://yuchanjeong.github.io/",
       "name": "Yuchan's Hello World!",
       "position": 1
     },
     {
       "@type": "ListItem",
       "item": "https://yuchanjeong.github.io/posts/",
       "name": "Posts",
       "position": 2
     },
     {
       "@type": "ListItem",
       "item": "https://yuchanjeong.github.io/categories/%5Clectures/",
       "name": "\\lectures",
       "position": 3
     },
     {
       "@type": "ListItem",
       "name": "[ Node.js 교과서] Node.js의 기능",
       "position": 4
     }
   ]
 }
  </script>

  
  
  
  
  






  
  
  
  
  
  


  
  
</head>
<body
    class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"
  >
    <div id="the-top" class="absolute flex self-center">
      <a
        class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span
        >Skip to main content</a
      >
    </div>
    
    
      <header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden">
  <nav class="flex items-start justify-between sm:items-center">
    
    <div class="flex flex-row items-center">
      
  <a
    class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2"
    rel="me"
    href="/"
    >Yuchan&rsquo;s hello world!</a
  >

    </div>
    
    
      <ul class="flex list-none flex-col text-end sm:flex-row">
        
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/posts/"
                  title="Posts"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Posts</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/categories/"
                  title="Categories"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Categories</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/tags/"
                  title="Tags"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Tags</span
                    >
                  </a
                >
              
            </li>
          
          
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0">
              <button id="search-button-m0" title="Search (/)">
                <span
                  class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                >
                  <span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
                </span>
              </button>
            </li>
          
        
      </ul>
    
  </nav>
</header>

    
    <div class="relative flex grow flex-col">
      <main id="main-content" class="grow">
        
  <article>
    <header class="max-w-prose">
      
      <h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        [Node.js 교과서] Node.js의 기능
      </h1>
      
        <div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
          





  
  



  

  
  
    
  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2023-04-05 00:00:00 &#43;0000 UTC">5 April 2023</time>
    

    
    
  </div>

  
  
    <div class="my-1 flex flex-wrap text-xs leading-relaxed text-neutral-500 dark:text-neutral-400">
      
        
          
            <a
              href="/categories/%5Clectures/"
              class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400"
              >\lectures</a
            >
          
        
      
        
          
            <a
              href="/tags/node.js/"
              class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400"
              >node.js</a
            >
          
            <a
              href="/tags/node.js-%EA%B5%90%EA%B3%BC%EC%84%9C/"
              class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400"
              >Node.js 교과서</a
            >
          
            <a
              href="/tags/%EC%A1%B0%ED%98%84%EC%98%81zerocho/"
              class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400"
              >조현영(zerocho)</a
            >
          
        
      
    </div>
  


        </div>
      
      
    </header>
    <section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row">
      
        <div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8">
          <div class="toc pe-5 lg:sticky lg:top-10 print:hidden">
            <details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5">
  <summary
    class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden"
  >
    Table of Contents
  </summary>
  <div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#제-3장-노드-기능-알아보기">제 3장. 노드 기능 알아보기</a>
      <ul>
        <li><a href="#1-모듈">1) 모듈</a></li>
        <li><a href="#2-노드-내장-객체">2) 노드 내장 객체</a></li>
        <li><a href="#3-노드-내장-모듈">3) 노드 내장 모듈</a>
          <ul>
            <li><a href="#1-os-">1. os (●○○)</a></li>
            <li><a href="#2-path-">2. path (●●○)</a></li>
            <li><a href="#3-url-">3. url (●●○)</a></li>
            <li><a href="#4-dns-">4. dns (●○○)</a></li>
            <li><a href="#5-crypto-">5. crypto (●○○)</a></li>
            <li><a href="#6-util-">6. util (●○○)</a></li>
            <li><a href="#7-worker_threads-">7. worker_threads (●○○)</a></li>
            <li><a href="#8-child_process-">8. child_process (●○○)</a></li>
            <li><a href="#9-기타-모듈">9. 기타 모듈</a></li>
          </ul>
        </li>
        <li><a href="#4-fs-">4) fs (●●●)</a>
          <ul>
            <li><a href="#1-비동기-메서드">1. 비동기 메서드</a></li>
            <li><a href="#2-동기-메서드">2. 동기 메서드</a></li>
            <li><a href="#3-비동기-메서드로-순서-유지">3. 비동기 메서드로 순서 유지</a></li>
            <li><a href="#4-버퍼">4. 버퍼</a></li>
            <li><a href="#5-스트림">5. 스트림</a></li>
            <li><a href="#6-파이프">6. 파이프</a></li>
            <li><a href="#7-기타-fs-메서드">7. 기타 fs 메서드</a></li>
          </ul>
        </li>
        <li><a href="#5-기타">5) 기타</a>
          <ul>
            <li><a href="#1-events-">1. events (●○○)</a></li>
            <li><a href="#2-에러-핸들링">2. 에러 핸들링</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>

          </div>
        </div>
      
      <div class="min-h-0 min-w-0 max-w-prose grow">
        <h2 id="제-3장-노드-기능-알아보기" class="relative group">제 3장. 노드 기능 알아보기 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#%ec%a0%9c-3%ec%9e%a5-%eb%85%b8%eb%93%9c-%ea%b8%b0%eb%8a%a5-%ec%95%8c%ec%95%84%eb%b3%b4%ea%b8%b0" aria-label="Anchor">#</a></span></h2><h3 id="1-모듈" class="relative group">1) 모듈 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-%eb%aa%a8%eb%93%88" aria-label="Anchor">#</a></span></h3><ul>
<li>
<p>CommonJS 모듈</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// 파일 하나당 하나만 가능
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">데이터</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 파일 하나당 여러개 가능
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">exports</span><span class="p">.</span><span class="nx">변수</span> <span class="o">=</span> <span class="nx">데이터</span><span class="p">;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">데이터</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;경로&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// require.main은 실행한 파일
</span></span></span><span class="line"><span class="cl"><span class="c1">// require.cache는 캐시된 모듈(한 번 이상 실행된 경우)
</span></span></span><span class="line"><span class="cl"><span class="c1">// 순환 참조 시 자동으로 빈 객체가 됨
</span></span></span></code></pre></div></li>
<li>
<p>ECMAScript 모듈</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// 이름 필수 X, 파일 하나당 하나만 가능
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="nx">데이터</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 이름 필수 O, 파일 하나당 여러개 가능
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="nx">데이터</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// export default
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">임의_데이터명</span> <span class="nx">from</span> <span class="s2">&#34;경로&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// export
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">데이터명</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;경로&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">데이터명</span> <span class="nx">as</span> <span class="nx">임의_데이터명</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;경로&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">임의_객체명</span> <span class="nx">from</span> <span class="s2">&#34;경로&#34;</span><span class="p">;</span>
</span></span></code></pre></div></li>
<li>
<p>CommonJS 모듈과 ES 모듈의 차이점</p>
<table>
<thead>
<tr>
<th>차이점</th>
<th>CommonJS 모듈</th>
<th>ES 모듈</th>
</tr>
</thead>
<tbody>
<tr>
<td>최상단 외 사용</td>
<td>가능</td>
<td>불가능</td>
</tr>
<tr>
<td>확장자</td>
<td>js, cjs</td>
<td>js(package.json에 &ldquo;type&rdquo;: &ldquo;module&rdquo; 필요), mjs</td>
</tr>
<tr>
<td>확장자 생략</td>
<td>가능</td>
<td>불가능</td>
</tr>
<tr>
<td>인덱스 생략</td>
<td>가능</td>
<td>불가능</td>
</tr>
<tr>
<td>top level await<sup>[1]</sup></td>
<td>불가능</td>
<td>가능</td>
</tr>
<tr>
<td>dynamic import<sup>[2]</sup></td>
<td>가능</td>
<td>불가능</td>
</tr>
<tr>
<td><code>__filename</code>,<br/><code>__dirname</code></td>
<td>사용 가능</td>
<td>사용 불가능(__filename 대신 <code>import.meta.url</code> 사용)</td>
</tr>
</tbody>
</table>
<p><sup>[1]</sup> top level await: 최상위 스코프에서 await 바로 사용 가능</p>
<p><sup>[2]</sup> dynamic import</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cjs" data-lang="cjs"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;...&#34;</span><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mjs" data-lang="mjs"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="kr">await</span> <span class="kr">import</span><span class="p">(</span><span class="s2">&#34;...&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>*CommonJS 모듈과 ES 모듈 간의 호출은 대부분 가능</p>
<p>*최상위 스코프의 this는 module.exports</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// -&gt; {}
</span></span></span></code></pre></div></li>
</ul>
<h3 id="2-노드-내장-객체" class="relative group">2) 노드 내장 객체 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#2-%eb%85%b8%eb%93%9c-%eb%82%b4%ec%9e%a5-%ea%b0%9d%ec%b2%b4" aria-label="Anchor">#</a></span></h3><ol>
<li>
<p>global</p>
<ul>
<li>노드의 전역 객체</li>
<li>브라우저의 window(globalThis)와 같은 역할</li>
<li>global에 값을 넣을 경우 다른 파일에서도 사용 가능하지만 지양해야함</li>
</ul>
</li>
<li>
<p>console</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>console.time(로그),<br/>console.timeEnd(로그)</td>
<td>시간 로깅</td>
</tr>
<tr>
<td>console.log(로그)</td>
<td>시간 로깅</td>
</tr>
<tr>
<td>console.table(로그)</td>
<td>테이블로 표시되는 로깅</td>
</tr>
<tr>
<td>console.error(로그)</td>
<td>에러 로깅</td>
</tr>
<tr>
<td>console.dir(로그)</td>
<td>객체 로깅</td>
</tr>
<tr>
<td>console.trace(로그)</td>
<td>호출스택 로깅<br/><em>*함수 내부에서 사용</em></td>
</tr>
</tbody>
</table>
 <details>
 <summary>example</summary>
 <div markdown=1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">string</span> <span class="o">=</span> <span class="s2">&#34;abc&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">outside</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">inside</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">key</span><span class="o">:</span> <span class="s2">&#34;value&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">(</span><span class="s2">&#34;전체시간&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;평범한 로그입니다 쉼표로 구분해 여러 값을 찍을 수 있습니다&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">string</span><span class="p">,</span> <span class="nx">number</span><span class="p">,</span> <span class="kr">boolean</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&#34;에러 메시지는 console.error에 담아주세요&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;제로&#34;</span><span class="p">,</span> <span class="nx">birth</span><span class="o">:</span> <span class="mi">1994</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;hero&#34;</span><span class="p">,</span> <span class="nx">birth</span><span class="o">:</span> <span class="mi">1988</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span> <span class="nx">colors</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">depth</span><span class="o">:</span> <span class="mi">2</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span> <span class="nx">colors</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">depth</span><span class="o">:</span> <span class="mi">1</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">(</span><span class="s2">&#34;시간측정&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">100000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">(</span><span class="s2">&#34;시간측정&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">trace</span><span class="p">(</span><span class="s2">&#34;에러 위치 추적&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">b</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">(</span><span class="s2">&#34;전체시간&#34;</span><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">평범한 로그입니다 쉼표로 구분해 여러 값을 찍을 수 있습니다
</span></span><span class="line"><span class="cl">abc <span class="m">1</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">에러 메시지는 console.error에 담아주세요
</span></span><span class="line"><span class="cl">┌─────────┬────────┬───────┐
</span></span><span class="line"><span class="cl">│ <span class="o">(</span>index<span class="o">)</span> │  name  │ birth │
</span></span><span class="line"><span class="cl">├─────────┼────────┼───────┤
</span></span><span class="line"><span class="cl">│    <span class="m">0</span>    │ <span class="s1">&#39;제로&#39;</span>  │ <span class="m">1994</span>  │
</span></span><span class="line"><span class="cl">│    <span class="m">1</span>    │ <span class="s1">&#39;hero&#39;</span> │ <span class="m">1988</span>  │
</span></span><span class="line"><span class="cl">└─────────┴────────┴───────┘
</span></span><span class="line"><span class="cl"><span class="o">{</span> outside: <span class="o">{</span> inside: <span class="o">{</span> key: <span class="s1">&#39;value&#39;</span> <span class="o">}</span> <span class="o">}</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span> outside: <span class="o">{</span> inside: <span class="o">[</span>Object<span class="o">]</span> <span class="o">}</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">시간측정: 21.228ms
</span></span><span class="line"><span class="cl">Trace: 에러 위치 추적
</span></span><span class="line"><span class="cl">    at b <span class="o">(</span>/Users/yuchanjeong/Desktop/nodejs-book-master/ch3/3.4/console.js:29:11<span class="o">)</span>
</span></span><span class="line"><span class="cl">    at Object.&lt;anonymous&gt; <span class="o">(</span>/Users/yuchanjeong/Desktop/nodejs-book-master/ch3/3.4/console.js:32:1<span class="o">)</span>
</span></span><span class="line"><span class="cl">    at Module._compile <span class="o">(</span>node:internal/modules/cjs/loader:1155:14<span class="o">)</span>
</span></span><span class="line"><span class="cl">    at Object.Module._extensions..js <span class="o">(</span>node:internal/modules/cjs/loader:1209:10<span class="o">)</span>
</span></span><span class="line"><span class="cl">    at Module.load <span class="o">(</span>node:internal/modules/cjs/loader:1033:32<span class="o">)</span>
</span></span><span class="line"><span class="cl">    at Function.Module._load <span class="o">(</span>node:internal/modules/cjs/loader:868:12<span class="o">)</span>
</span></span><span class="line"><span class="cl">    at Function.executeUserEntryPoint <span class="o">[</span>as runMain<span class="o">]</span> <span class="o">(</span>node:internal/modules/run_main:81:12<span class="o">)</span>
</span></span><span class="line"><span class="cl">    at node:internal/main/run_main_module:22:47
</span></span><span class="line"><span class="cl">전체시간: 34.557ms
</span></span></code></pre></div> </div>
 </details>
</li>
<li>
<p>process</p>
<ul>
<li>현재 실행중인 노드 프로세스에 대한 정보를 담고있음</li>
</ul>
<table>
<thead>
<tr>
<th>Properties &amp; Methods</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>process.cwd()</code></td>
<td>실행중인 노드 프로세스 경로</td>
</tr>
<tr>
<td><code>process.env</code></td>
<td>시스템 환경 변수<br/><em>*노드에 직접 영향을 미치는 변수도 있음</em><br/>ㅤ<em>NODE_OPTIONS=&ndash;max-old-space-size=8192 (노드 옵션: 메모리 사이즈)</em><br/>ㅤ<em>UV_THREADPOOL_SIZE=8 (스레드 갯수)</em></td>
</tr>
<tr>
<td>process.nextTick(콜백)</td>
<td>이벤트 루프가 다른 콜백함수 보다 우선적으로 처리</td>
</tr>
<tr>
<td>process.exit(코드)</td>
<td>코드가 없거나 0이면 정상 종료<br><em>*그 외는 비정상 종료</em></td>
</tr>
</tbody>
</table>
 <details>
 <summary>example</summary>
 <div markdown=1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ node
</span></span><span class="line"><span class="cl">&gt; process.version
</span></span><span class="line"><span class="cl">v18.7.0 // 설치된 노드의 버전입니다
</span></span><span class="line"><span class="cl">&gt; process.arch
</span></span><span class="line"><span class="cl">x64 // 프로세서 아키텍처 정보입니다. arm, ia32 등의 값일 수도 있습니다
</span></span><span class="line"><span class="cl">&gt; process.platform
</span></span><span class="line"><span class="cl">win32 // 운영체제 플랫폼 정보입니다. linux나 darwin, freebsd 등의 값일 수도 있습니다
</span></span><span class="line"><span class="cl">&gt; process.pid
</span></span><span class="line"><span class="cl"><span class="m">14736</span> // 현재 프로세스의 아이디입니다. 프로세스를 여러 개 가질 때 구분할 수 있습니다
</span></span><span class="line"><span class="cl">&gt; process.uptime<span class="o">()</span>
</span></span><span class="line"><span class="cl">199.36 // 프로세스가 시작된 후 흐른 시간입니다. 단위는 초입니다
</span></span><span class="line"><span class="cl">&gt; process.execPath
</span></span><span class="line"><span class="cl">C:<span class="se">\P</span>rogram Files<span class="se">\n</span>odejs<span class="se">\n</span>ode.exe // 노드의 경로입니다
</span></span><span class="line"><span class="cl">&gt; process.cwd<span class="o">()</span>
</span></span><span class="line"><span class="cl">C:<span class="se">\U</span>sers<span class="se">\z</span>erocho // 현재 프로세스가 실행되는 위치입니다
</span></span><span class="line"><span class="cl">&gt; process.cpuUsage<span class="o">()</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span> user: 390000, system: <span class="m">203000</span> <span class="o">}</span> // 현재 cpu 사용량입니다
</span></span></code></pre></div> </div>
 </details>
</li>
<li>
<p>기타 내장 객체</p>
<ul>
<li>URL, URLSearchParams</li>
<li>TextDecoder: Buffer를 문자열로 바꿈</li>
<li>TextEncoder: 문자열을 Buffer로 바꿈</li>
<li>WebAssembly: 웹어셈블리 처리 담당</li>
<li>AbortController, FormData, fetch, Headers, Request, Response, Event, EventTarget: 브라우저에서 사용하던 API들</li>
</ul>
</li>
</ol>
<h3 id="3-노드-내장-모듈" class="relative group">3) 노드 내장 모듈 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#3-%eb%85%b8%eb%93%9c-%eb%82%b4%ec%9e%a5-%eb%aa%a8%eb%93%88" aria-label="Anchor">#</a></span></h3><h4 id="1-os-" class="relative group">1. os (●○○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-os-" aria-label="Anchor">#</a></span></h4><ul>
<li>
<p>운영체제의 정보를 담고있는 모듈</p>
  <details>
  <summary>list</summary>
  <div markdown=1>
<ul>
<li>
<p>os.arch(): process.arch와 동일합니다.</p>
</li>
<li>
<p>os.platform(): process.platform과 동일합니다.</p>
</li>
<li>
<p>os.type(): 운영체제의 종류를 보여줍니다.</p>
</li>
<li>
<p>os.uptime(): 운영체제 부팅 이후 흐른 시간(초)을 보여줍니다.</p>
</li>
<li>
<p>os.hostname(): 컴퓨터의 이름을 보여줍니다.</p>
</li>
<li>
<p>os.release(): 운영체제의 버전을 보여줍니다.</p>
</li>
<li>
<p>os.homedir(): 홈 디렉터리 경로를 보여줍니다.</p>
</li>
<li>
<p>os.tmpdir(): 임시 파일 저장 경로를 보여줍니다.</p>
</li>
<li>
<p>os.cpus(): 컴퓨터의 코어 정보를 보여줍니다.</p>
</li>
<li>
<p>os.freemem(): 사용 가능한 메모리(RAM)를 보여줍니다.</p>
</li>
<li>
<p>os.totalmem(): 전체 메모리 용량을 보여줍니다.</p>
</div>
</details>
</li>
</ul>
</li>
</ul>
<h4 id="2-path-" class="relative group">2. path (●●○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#2-path-" aria-label="Anchor">#</a></span></h4><ul>
<li>
<p>폴더와 파일의 경로를 쉽게 조작하도록 도와주는 모듈</p>
</li>
<li>
<p><code>./</code>(상대 경로) vs <code>/</code>(절대 경로)</p>
</li>
<li>
<p><code>path.join(경로, …)</code> vs <code>path.resolve(경로, …)</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&#34;/a&#34;</span><span class="p">,</span> <span class="s2">&#34;/b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">,</span> <span class="s2">&#34;..&#34;</span><span class="p">);</span> <span class="c1">// /a/b
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;/a&#34;</span><span class="p">,</span> <span class="s2">&#34;/b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">);</span> <span class="c1">// /b/c -&gt; 상대경로와 절대경로를 구분
</span></span></span></code></pre></div></li>
</ul>
<table>
<thead>
<tr>
<th>Properties &amp; Methods</th>
<th>Return</th>
</tr>
</thead>
<tbody>
<tr>
<td>path.sep</td>
<td>경로의 구분자<br/><em>*WINDOW는 &ldquo;\&rdquo;, POSIX(LINUX &amp; MAC)는 &ldquo;/&rdquo;</em></td>
</tr>
<tr>
<td>path.delimiter</td>
<td>환경 변수의 구분자 (process.env.PATH를 입력하면 여러 개의 경로가 이 구분자로 구분되어 있음)<br/><em>*WINDOW는 &ldquo;;&rdquo;, POSIX는 &ldquo;:&rdquo;</em></td>
</tr>
<tr>
<td>path.dirname(경로)</td>
<td>파일이 위치한 폴더 경로</td>
</tr>
<tr>
<td>path.extname(경로)</td>
<td>파일의 확장자</td>
</tr>
<tr>
<td>path.basename(경로, [확장자])</td>
<td>파일의 이름<br/><em>*두 번째 인수를 넣을 경우 파일의 이름만 표시</em></td>
</tr>
<tr>
<td>path.parse(경로)</td>
<td>파일 경로를 root, dir, base, ext, name으로 구분한 객체</td>
</tr>
<tr>
<td>path.format(객체)</td>
<td>path.parse()의 반환값을 합친 경로</td>
</tr>
<tr>
<td>path.normalize(경로)</td>
<td>&ldquo;/&ldquo;나 &ldquo;\&ldquo;를 잘못 사용했을 때 올바르게 변환한 경로</td>
</tr>
<tr>
<td>path.isAbsolute(경로)</td>
<td>절대경로인지 여부</td>
</tr>
<tr>
<td>path.relative(기준경로, 목표경로)</td>
<td>기준경로에서 목표경로로 가는 경로</td>
</tr>
</tbody>
</table>
<details>
<summary>example</summary>
<div markdown=1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">string</span> <span class="o">=</span> <span class="nx">__filename</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.sep:&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">sep</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.delimiter:&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">delimiter</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;------------------------------&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.dirname():&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">dirname</span><span class="p">(</span><span class="nx">string</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.extname():&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">extname</span><span class="p">(</span><span class="nx">string</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.basename():&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">basename</span><span class="p">(</span><span class="nx">string</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.basename - extname:&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">basename</span><span class="p">(</span><span class="nx">string</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">extname</span><span class="p">(</span><span class="nx">string</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;------------------------------&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.parse()&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">string</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.format():&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">format</span><span class="p">({</span>
</span></span><span class="line"><span class="cl"><span class="nx">dir</span><span class="o">:</span> <span class="s1">&#39;C:\users\zerocho&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">ext</span><span class="o">:</span> <span class="s1">&#39;.js&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.normalize():&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">normalize</span><span class="p">(</span><span class="s1">&#39;C://users\\zerocho\\path.js&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;------------------------------&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;path.isAbsolute(C:\):&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">isAbsolute</span><span class="p">(</span><span class="s1">&#39;C:\&#39;));
</span></span></span><span class="line"><span class="cl"><span class="s1">console.log(&#39;</span><span class="nx">path</span><span class="p">.</span><span class="nx">isAbsolute</span><span class="p">(.</span><span class="o">/</span><span class="nx">home</span><span class="p">)</span><span class="o">:</span><span class="s1">&#39;, path.isAbsolute(&#39;</span><span class="p">.</span><span class="o">/</span><span class="nx">home</span><span class="s1">&#39;));
</span></span></span><span class="line"><span class="cl"><span class="s1">console.log(&#39;</span><span class="o">------------------------------</span><span class="s1">&#39;);
</span></span></span><span class="line"><span class="cl"><span class="s1">console.log(&#39;</span><span class="nx">path</span><span class="p">.</span><span class="nx">relative</span><span class="p">()</span><span class="o">:</span><span class="s1">&#39;, path.relative(&#39;</span><span class="nx">C</span><span class="o">:</span><span class="err">\</span><span class="nx">users</span><span class="err">\</span><span class="nx">zerocho</span><span class="err">\</span><span class="nx">path</span><span class="p">.</span><span class="nx">js</span><span class="s1">&#39;, &#39;</span><span class="nx">C</span><span class="o">:</span><span class="err">\</span><span class="s1">&#39;));
</span></span></span><span class="line"><span class="cl"><span class="s1">console.log(&#39;</span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">()</span><span class="o">:</span><span class="s1">&#39;, path.join(__dirname, &#39;</span><span class="p">..</span><span class="s1">&#39;, &#39;</span><span class="p">..</span><span class="s1">&#39;, &#39;</span><span class="o">/</span><span class="nx">users</span><span class="s1">&#39;, &#39;</span><span class="p">.</span><span class="s1">&#39;, &#39;</span><span class="o">/</span><span class="nx">zerocho</span><span class="s1">&#39;));
</span></span></span><span class="line"><span class="cl"><span class="s1">console.log(&#39;</span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">()</span><span class="o">:</span><span class="s1">&#39;, path.resolve(__dirname, &#39;</span><span class="p">..</span><span class="s1">&#39;, &#39;</span><span class="nx">users</span><span class="s1">&#39;, &#39;</span><span class="p">.</span><span class="s1">&#39;, &#39;</span><span class="o">/</span><span class="nx">zerocho</span><span class="err">&#39;</span><span class="p">));</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">path.sep: <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>path.delimiter: <span class="p">;</span>
</span></span><span class="line"><span class="cl">------------------------------
</span></span><span class="line"><span class="cl">path.dirname<span class="o">()</span>: C:<span class="se">\U</span>sers<span class="se">\z</span>erocho
</span></span><span class="line"><span class="cl">path.extname<span class="o">()</span>: .js
</span></span><span class="line"><span class="cl">path.basename<span class="o">()</span>: path.js
</span></span><span class="line"><span class="cl">path.basename - extname: path
</span></span><span class="line"><span class="cl">------------------------------
</span></span><span class="line"><span class="cl">path.parse<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">root:  <span class="s1">&#39;C:\&#39;</span>,
</span></span><span class="line"><span class="cl">dir:  <span class="s1">&#39;C:\Users\zerocho&#39;</span>,
</span></span><span class="line"><span class="cl">base:  <span class="s1">&#39;path.js&#39;</span>,
</span></span><span class="line"><span class="cl">ext:  <span class="s1">&#39;.js&#39;</span>,
</span></span><span class="line"><span class="cl">name:  <span class="s1">&#39;path&#39;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">path.format<span class="o">()</span>: C:<span class="se">\u</span>sers<span class="se">\z</span>erocho<span class="se">\p</span>ath.js
</span></span><span class="line"><span class="cl">path.normalize<span class="o">()</span>: C:<span class="se">\u</span>sers<span class="se">\z</span>erocho<span class="se">\p</span>ath.js
</span></span><span class="line"><span class="cl">------------------------------
</span></span><span class="line"><span class="cl">path.isAbsolute<span class="o">(</span>C:<span class="se">\)</span>: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">path.isAbsolute<span class="o">(</span>./home<span class="o">)</span>: <span class="nb">false</span>
</span></span><span class="line"><span class="cl">------------------------------
</span></span><span class="line"><span class="cl">path.relative<span class="o">()</span>: ..<span class="se">\.</span>.<span class="se">\.</span>.
</span></span><span class="line"><span class="cl">path.join<span class="o">()</span>: C:<span class="se">\U</span>sers<span class="se">\z</span>erocho
</span></span><span class="line"><span class="cl">path.resolve<span class="o">()</span>: C:<span class="se">\z</span>erocho
</span></span></code></pre></div></div>
</details>
<h4 id="3-url-" class="relative group">3. url (●●○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#3-url-" aria-label="Anchor">#</a></span></h4><ul>
<li>인터넷 주소를 쉽게 조작하도록 도와주는 모듈</li>
<li>pathname만 있는 주소는 <code>new URL(pathname, host)</code>로 host를 두 번째 인수로 적어줘야 함</li>
<li><code>.searchParams</code>로 쿼리 스트링을 다룸
<table>
<thead>
<tr>
<th>Methods</th>
<th>Return or Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>.searchParams.getAll(키)</td>
<td>키에 해당하는 모든 값</td>
</tr>
<tr>
<td>.searchParams.get(키)</td>
<td>키에 해당하는 첫 번째 값</td>
</tr>
<tr>
<td>.searchParams.has(키)</td>
<td>해당 키의 존재 여부</td>
</tr>
<tr>
<td>.searchParams.keys()</td>
<td>모든 키를 포함한 iterator(반복자 객체)</td>
</tr>
<tr>
<td>.searchParams.values()</td>
<td>모든 값를 포함한 iterator(반복자 객체)</td>
</tr>
<tr>
<td>.searchParams.append(키, 값)</td>
<td>해당 키를 추가, 같은 키의 값이 있다면 유지하면서 하나 더 추가</td>
</tr>
<tr>
<td>.searchParams.set(키, 값)</td>
<td>해당 키를 추가, 같은 키의 값이 있다면 제거하면서 추가</td>
</tr>
<tr>
<td>.searchParams.delete(키)</td>
<td>해당 키를 제거</td>
</tr>
<tr>
<td>.searchParams.toString()</td>
<td>searchParams 객체를 다시 문자열로 만듦</td>
</tr>
</tbody>
</table>
</li>
</ul>
<details>
<summary>example</summary>
<div markdown=1>
<img width="800px" src="/assets/lectures/Node.js 교과서/WHATWG.png" alt="https://thebook.io/080334/0122/"/>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">myURL</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;http://www.gilbut.co.kr/book/bookList.aspx?sercate1=001001000#anchor&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;new URL():&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;url.format():&#34;</span><span class="p">,</span> <span class="nx">url</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">myURL</span><span class="p">));</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">new URL<span class="o">()</span>: URL <span class="o">{</span>
</span></span><span class="line"><span class="cl">  href: <span class="s1">&#39;http://www.gilbut.co.kr/book/bookList.aspx?sercate1=001001000#anchor&#39;</span>,
</span></span><span class="line"><span class="cl">  origin: <span class="s1">&#39;http://www.gilbut.co.kr&#39;</span>,
</span></span><span class="line"><span class="cl">  protocol: <span class="s1">&#39;http:&#39;</span>,
</span></span><span class="line"><span class="cl">  username: <span class="s1">&#39;&#39;</span>,
</span></span><span class="line"><span class="cl">  password: <span class="s1">&#39;&#39;</span>,
</span></span><span class="line"><span class="cl">  host: <span class="s1">&#39;www.gilbut.co.kr&#39;</span>,
</span></span><span class="line"><span class="cl">  hostname: <span class="s1">&#39;www.gilbut.co.kr&#39;</span>,
</span></span><span class="line"><span class="cl">  port: <span class="s1">&#39;&#39;</span>,
</span></span><span class="line"><span class="cl">  pathname: <span class="s1">&#39;/book/bookList.aspx&#39;</span>,
</span></span><span class="line"><span class="cl">  search: <span class="s1">&#39;?sercate1=001001000&#39;</span>,
</span></span><span class="line"><span class="cl">  searchParams: URLSearchParams <span class="o">{</span> <span class="s1">&#39;sercate1&#39;</span> <span class="o">=</span>&gt; <span class="s1">&#39;001001000&#39;</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  hash: <span class="s1">&#39;#anchor&#39;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">url.format<span class="o">()</span>: http://www.gilbut.co.kr/book/bookList.aspx?sercate1<span class="o">=</span>001001000#anchor
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">myURL</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;http://www.gilbut.co.kr/?page=3&amp;limit=10&amp;category=nodejs&amp;category=javascript&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;searchParams:&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;searchParams.getAll():&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">getAll</span><span class="p">(</span><span class="s2">&#34;category&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;searchParams.get():&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&#34;limit&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;searchParams.has():&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s2">&#34;page&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;searchParams.keys():&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">keys</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;searchParams.values():&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">values</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&#34;filter&#34;</span><span class="p">,</span> <span class="s2">&#34;es3&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&#34;filter&#34;</span><span class="p">,</span> <span class="s2">&#34;es5&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">getAll</span><span class="p">(</span><span class="s2">&#34;filter&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&#34;filter&#34;</span><span class="p">,</span> <span class="s2">&#34;es6&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">getAll</span><span class="p">(</span><span class="s2">&#34;filter&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s2">&#34;filter&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">getAll</span><span class="p">(</span><span class="s2">&#34;filter&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;searchParams.toString():&#34;</span><span class="p">,</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="nx">myURL</span><span class="p">.</span><span class="nx">search</span> <span class="o">=</span> <span class="nx">myURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">searchParams: URLSearchParams <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;page&#39;</span> <span class="o">=</span>&gt; <span class="s1">&#39; 3 &#39;</span>,
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;limit&#39;</span> <span class="o">=</span>&gt; <span class="s1">&#39; 10 &#39;</span>,
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;category&#39;</span> <span class="o">=</span>&gt; <span class="s1">&#39;nodejs&#39;</span>,
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;category&#39;</span> <span class="o">=</span>&gt; <span class="s1">&#39;javascript&#39;</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">searchParams.getAll<span class="o">()</span>: <span class="o">[</span> <span class="s1">&#39;nodejs&#39;</span>, <span class="s1">&#39;javascript&#39;</span> <span class="o">]</span>
</span></span><span class="line"><span class="cl">searchParams.get<span class="o">()</span>: <span class="m">10</span>
</span></span><span class="line"><span class="cl">searchParams.has<span class="o">()</span>: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">searchParams.keys<span class="o">()</span>: URLSearchParams Iterator <span class="o">{</span> <span class="s1">&#39;page&#39;</span>, <span class="s1">&#39;limit&#39;</span>, <span class="s1">&#39;category&#39;</span>, <span class="s1">&#39;category&#39;</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">searchParams.values<span class="o">()</span>: URLSearchParams Iterator <span class="o">{</span> <span class="s1">&#39; 3 &#39;</span>, <span class="s1">&#39; 10 &#39;</span>, <span class="s1">&#39;nodejs&#39;</span>, <span class="s1">&#39;javascript&#39;</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span> <span class="s1">&#39;es 3 &#39;</span>, <span class="s1">&#39;es 5 &#39;</span> <span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span> <span class="s1">&#39;es 6 &#39;</span> <span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">searchParams.toString<span class="o">()</span>: <span class="nv">page</span><span class="o">=</span>3<span class="p">&amp;</span><span class="nv">limit</span><span class="o">=</span>10<span class="p">&amp;</span><span class="nv">category</span><span class="o">=</span>nodejs<span class="p">&amp;</span><span class="nv">category</span><span class="o">=</span>javascript
</span></span></code></pre></div></div>
</details>
<h4 id="4-dns-" class="relative group">4. dns (●○○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#4-dns-" aria-label="Anchor">#</a></span></h4><ul>
<li>DNS를 다룰 때 사용하는 모듈</li>
<li>도메인을 통해 IP나 DNS 레코드를 얻고자 할 때 사용</li>
<li>레코드
<ul>
<li>A(ipv4 주소), AAAA(ipv6 주소), NS(네임서버), SOA(도메인 정보), CNAME(별칭, 주로 www가 붙은 주소), MX(메일 서버)</li>
</ul>
</li>
</ul>
<details>
<summary>example</summary>
<div markdown=1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">dns</span> <span class="nx">from</span> <span class="s2">&#34;dns/promises&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">ip</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">dns</span><span class="p">.</span><span class="nx">lookup</span><span class="p">(</span><span class="s2">&#34;gilbut.co.kr&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;IP&#34;</span><span class="p">,</span> <span class="nx">ip</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">dns</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;gilbut.co.kr&#34;</span><span class="p">,</span> <span class="s2">&#34;A&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;A&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">mx</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">dns</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;gilbut.co.kr&#34;</span><span class="p">,</span> <span class="s2">&#34;MX&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;MX&#34;</span><span class="p">,</span> <span class="nx">mx</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">cname</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">dns</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;www.gilbut.co.kr&#34;</span><span class="p">,</span> <span class="s2">&#34;CNAME&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;CNAME&#34;</span><span class="p">,</span> <span class="nx">cname</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">any</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">dns</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;gilbut.co.kr&#34;</span><span class="p">,</span> <span class="s2">&#34;ANY&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;ANY&#34;</span><span class="p">,</span> <span class="nx">any</span><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">IP <span class="o">{</span> address: <span class="s1">&#39; 49 . 236 . 151 . 220 &#39;</span>, family: <span class="m">4</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">A <span class="o">[</span> <span class="s1">&#39; 49 . 236 . 151 . 220 &#39;</span> <span class="o">]</span>
</span></span><span class="line"><span class="cl">MX <span class="o">[</span>
</span></span><span class="line"><span class="cl">  <span class="o">{</span> exchange: <span class="s1">&#39;alt 2 .aspmx.l.google.com&#39;</span>, priority: <span class="m">5</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span> exchange: <span class="s1">&#39;aspmx 3 .googlemail.com&#39;</span>, priority: <span class="m">10</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span> exchange: <span class="s1">&#39;aspmx 2 .googlemail.com&#39;</span>, priority: <span class="m">10</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span> exchange: <span class="s1">&#39;aspmx.l.google.com&#39;</span>, priority: <span class="m">1</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span> exchange: <span class="s1">&#39;alt 1 .aspmx.l.google.com&#39;</span>, priority: <span class="m">5</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span><span class="line"><span class="cl">CNAME <span class="o">[</span> <span class="s1">&#39;slb- 1088813 .ncloudslb.com&#39;</span> <span class="o">]</span>
</span></span><span class="line"><span class="cl">ANY <span class="o">[</span>
</span></span><span class="line"><span class="cl">  <span class="o">{</span> address: <span class="s1">&#39; 49 . 236 . 151 . 220 &#39;</span>, ttl: 14235, type: <span class="s1">&#39;A&#39;</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span> value: <span class="s1">&#39;ns 1 - 2 .ns-ncloud.com&#39;</span>, type: <span class="s1">&#39;NS&#39;</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span> value: <span class="s1">&#39;ns 1 - 1 .ns-ncloud.com&#39;</span>, type: <span class="s1">&#39;NS&#39;</span> <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span>
</span></span><span class="line"><span class="cl">    nsname: <span class="s1">&#39;ns 1 - 1 .ns-ncloud.com&#39;</span>,
</span></span><span class="line"><span class="cl">    hostmaster: <span class="s1">&#39;ns 1 - 2 .ns-ncloud.com&#39;</span>,
</span></span><span class="line"><span class="cl">    serial: 32,
</span></span><span class="line"><span class="cl">    refresh: 21600,
</span></span><span class="line"><span class="cl">    retry: 1800,
</span></span><span class="line"><span class="cl">    expire: 1209600,
</span></span><span class="line"><span class="cl">    minttl: 300,
</span></span><span class="line"><span class="cl">    type: <span class="s1">&#39;SOA&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span></code></pre></div></div>
</details>
<h4 id="5-crypto-" class="relative group">5. crypto (●○○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#5-crypto-" aria-label="Anchor">#</a></span></h4><ul>
<li>다양한 방식의 암호화를 도와주는 모듈</li>
</ul>
<ol>
<li>
<p>단방향 암호 - 암호화는 가능하지만 복호화는 불가능, <code>Hash</code></p>
<ul>
<li>
<p>문자열을 고정된 길이의 다른 문자열로 바꾸는 방식</p>
</li>
<li>
<p>출력 문자열이 같은 경우 충돌이 발생했다고 함</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>crypto.createHash(해시 알고리즘)</td>
<td><del>md5</del>, <del>sha1</del>, <del>sha256</del>, sha512등의 사용할 해시 알고리즘을 넣음<br/><em>*보안 취약점이 많이 발견 되면서 현재는 pbkdf2, bcrypt, scrypt등의 방식을 사용</em><br/><em>*이 중 노드는 pbkdf2와 scrypt만 지원</em></td>
</tr>
<tr>
<td>.update(문자열)</td>
<td>변환할 문자열을 넣음</td>
</tr>
<tr>
<td>.digest(인코딩)</td>
<td>base6, hex, latin1등의 인코딩할 알고리즘을 넣음</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>pbkdf2</p>
<ul>
<li>기존 문자열에 salt(문자열)를 붙인 후 해시 알고리즘을 반복해서 적용하는 방식</li>
<li>params: 비밀번호, salt, 반복 횟수, 출력 바이트, 해시 알고리즘</li>
</ul>
</li>
</ul>
<details>
<summary>example</summary>
<div markdown=1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;crypto&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;base64:&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHash</span><span class="p">(</span><span class="s2">&#34;sha512&#34;</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">&#34;비밀번호&#34;</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s2">&#34;base64&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span> <span class="c1">// 가장 짧음
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;hex:&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHash</span><span class="p">(</span><span class="s2">&#34;sha512&#34;</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">&#34;비밀번호&#34;</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s2">&#34;hex&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;base64:&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHash</span><span class="p">(</span><span class="s2">&#34;sha512&#34;</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">&#34;비밀번호&#34;</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s2">&#34;base64&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;crypto&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// randomBytes이므로 매번 실행할 때마다 결과가 달라져서 salt를 잘 보관하고 있어야 비밀번호도 찾을 수 있음
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">crypto</span><span class="p">.</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">buf</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">salt</span> <span class="o">=</span> <span class="nx">buf</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&#34;base64&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;salt:&#34;</span><span class="p">,</span> <span class="nx">salt</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">crypto</span><span class="p">.</span><span class="nx">pbkdf2</span><span class="p">(</span><span class="s2">&#34;비밀번호&#34;</span><span class="p">,</span> <span class="nx">salt</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="s2">&#34;sha512&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;password:&#34;</span><span class="p">,</span> <span class="nx">key</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&#34;base64&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div></div>
</details>
</li>
<li>
<p>양방향 암호 - 암호화된 문자열을 키로 복호화할 수 있음</p>
<ol>
<li>대칭형 암호 - 같은 키</li>
<li>비대칭 암호 - 다른 키 (e.g. https)</li>
</ol>
<details>
<summary>example</summary>
<div markdown=1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;crypto&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">algorithm</span> <span class="o">=</span> <span class="s2">&#34;aes-256-cbc&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="s2">&#34;abcdefghijklmnopqrstuvwxyz123456&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">iv</span> <span class="o">=</span> <span class="s2">&#34;1234567890123456&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">cipher</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createCipheriv</span><span class="p">(</span><span class="nx">algorithm</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">iv</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">cipher</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">&#34;암호화할 문장&#34;</span><span class="p">,</span> <span class="s2">&#34;utf8&#34;</span><span class="p">,</span> <span class="s2">&#34;base64&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">result</span> <span class="o">+=</span> <span class="nx">cipher</span><span class="p">.</span><span class="kr">final</span><span class="p">(</span><span class="s2">&#34;base64&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;암호화:&#34;</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">decipher</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createDecipheriv</span><span class="p">(</span><span class="nx">algorithm</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">iv</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">result2</span> <span class="o">=</span> <span class="nx">decipher</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="s2">&#34;base64&#34;</span><span class="p">,</span> <span class="s2">&#34;utf8&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">result2</span> <span class="o">+=</span> <span class="nx">decipher</span><span class="p">.</span><span class="kr">final</span><span class="p">(</span><span class="s2">&#34;utf8&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;복호화:&#34;</span><span class="p">,</span> <span class="nx">result2</span><span class="p">);</span>
</span></span></code></pre></div></div>
</details>
<p><em>*키는 AWS kms등으로 잘 관리해 줘야 함</em></p>
</li>
</ol>
<h4 id="6-util-" class="relative group">6. util (●○○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#6-util-" aria-label="Anchor">#</a></span></h4><ul>
<li>각종 편의 기능을 모아둔 모듈</li>
</ul>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>util.deprecate(콜백, 메시지)</td>
<td>함수가 deprecated 처리되었음을 알림</td>
</tr>
<tr>
<td>util.promisify(콜백)</td>
<td>콜백 패턴을 프로미스 패턴으로 변경(but 콜백이 &ldquo;(err, data) =&gt; {}&rdquo; 여야 함)</td>
</tr>
</tbody>
</table>
<details>
<summary>example</summary>
<div markdown=1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">util</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;util&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;crypto&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">dontUseMe</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">deprecate</span><span class="p">((</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="s2">&#34;dontUseMe 함수는 deprecated되었으니 더 이상 사용하지 마세요!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">dontUseMe</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">randomBytesPromise</span> <span class="o">=</span> <span class="nx">util</span><span class="p">.</span><span class="nx">promisify</span><span class="p">(</span><span class="nx">crypto</span><span class="p">.</span><span class="nx">randomBytes</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">randomBytesPromise</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">buf</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">buf</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&#34;base64&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>node:7264<span class="o">)</span> DeprecationWarning: dontUseMe 함수는 deprecated되었으니 더 이상 사용하지 마세요!
</span></span><span class="line"><span class="cl"><span class="o">(</span>Use <span class="sb">`</span>node --trace-deprecation ...<span class="sb">`</span> to show where the warning was created<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">60b4RQbrx1j130x4r95fpZac9lmcHyitqwAm8gKsHQKF8tcNhvcTfW031XaQqHlRKzaVkcENmIV25fDVs3SB7g</span><span class="o">==</span>
</span></span></code></pre></div></div>
</details>
<h4 id="7-worker_threads-" class="relative group">7. worker_threads (●○○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#7-worker_threads-" aria-label="Anchor">#</a></span></h4><ul>
<li>노드에서 멀티 스레드를 다루기 위해 사용하는 모듈</li>
<li>스레드를 생성하고 스레드 사이에서 통신하는 데 상당한 비용이 발생하기 때문에 주의가 필요</li>
</ul>
<details>
<summary>example</summary>
<div markdown=1>
<ul>
<li>
<p>동작 예제</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Worker</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">isMainThread</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">parentPort</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">workerData</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;worker_threads&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">isMainThread</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// 부모일 때
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">threads</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Set</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="nx">threads</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="nx">__filename</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">workerData</span><span class="o">:</span> <span class="p">{</span> <span class="nx">start</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">threads</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="nx">__filename</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">workerData</span><span class="o">:</span> <span class="p">{</span> <span class="nx">start</span><span class="o">:</span> <span class="mi">2</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">worker</span> <span class="k">of</span> <span class="nx">threads</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">worker</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;message&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;from worker&#34;</span><span class="p">,</span> <span class="nx">message</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="nx">worker</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;exit&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">threads</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">worker</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">threads</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;job done&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// 워커일 때
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">workerData</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">parentPort</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">start</span> <span class="o">+</span> <span class="mi">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">from worker <span class="m">101</span>
</span></span><span class="line"><span class="cl">from worker <span class="m">102</span>
</span></span><span class="line"><span class="cl">job <span class="k">done</span>
</span></span></code></pre></div></li>
<li>
<p>소수 찾기 예제</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Worker</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">isMainThread</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">parentPort</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">workerData</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;worker_threads&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">min</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">primes</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">findPrimes</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span> <span class="nx">range</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">isPrime</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">start</span> <span class="o">+</span> <span class="nx">range</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">end</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">min</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">end</span><span class="p">);</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">!==</span> <span class="nx">j</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">%</span> <span class="nx">j</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">isPrime</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">isPrime</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">primes</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">isPrime</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">isMainThread</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">max</span> <span class="o">=</span> <span class="mi">10000000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">threadCount</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">threads</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Set</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">range</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">)</span> <span class="o">/</span> <span class="nx">threadCount</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">min</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">(</span><span class="s2">&#34;prime&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">threadCount</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">wStart</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">threads</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="nx">__filename</span><span class="p">,</span> <span class="p">{</span> <span class="nx">workerData</span><span class="o">:</span> <span class="p">{</span> <span class="nx">start</span><span class="o">:</span> <span class="nx">wStart</span><span class="p">,</span> <span class="nx">range</span> <span class="p">}</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">start</span> <span class="o">+=</span> <span class="nx">range</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">threads</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="nx">__filename</span><span class="p">,</span> <span class="p">{</span> <span class="nx">workerData</span><span class="o">:</span> <span class="p">{</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">start</span> <span class="p">}</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">worker</span> <span class="k">of</span> <span class="nx">threads</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">worker</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;error&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="nx">worker</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;exit&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">threads</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">worker</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">threads</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">(</span><span class="s2">&#34;prime&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">primes</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="nx">worker</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;message&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">primes</span> <span class="o">=</span> <span class="nx">primes</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">findPrimes</span><span class="p">(</span><span class="nx">workerData</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span> <span class="nx">workerData</span><span class="p">.</span><span class="nx">range</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">parentPort</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">primes</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ul>
</div>
</details>
<h4 id="8-child_process-" class="relative group">8. child_process (●○○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#8-child_process-" aria-label="Anchor">#</a></span></h4><ul>
<li>노드에서 다른 프로그램을 실행하고 싶거나 명령어를 수행하고 싶을 때 사용하는 모듈</li>
<li>exec
<ul>
<li>셸을 실행해서 명령어를 수행</li>
<li>stdout을 버퍼로 리턴(정확히는 콜백을 호출)</li>
</ul>
</li>
<li>spawn
<ul>
<li>새로운 프로세스를 띄우면서 명령어를 실행</li>
<li>stdout을 스트림으로 리턴
<ul>
<li>중간에 출력에 맞춰서 입력을 바꿔 넣을 수 있음</li>
</ul>
</li>
<li>첫 번째 인수로 명령어, 두 번째 인수로 옵션 배열</li>
<li>세 번째 인수로 { shell: true }를 제공하면 exec처럼 셸을 실행해서 명령어를 수행</li>
</ul>
</li>
</ul>
<details>
<summary>example</summary>
<div markdown=1>
<ul>
<li>
<p>exec</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">exec</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;child_process&#34;</span><span class="p">).</span><span class="nx">exec</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">process</span> <span class="o">=</span> <span class="nx">exec</span><span class="p">(</span><span class="s2">&#34;ls&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">process</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;data&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;data:&#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span> <span class="c1">// 실행 결과
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">process</span><span class="p">.</span><span class="nx">stderr</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;data&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&#34;error: &#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span> <span class="c1">// 실행 에러
</span></span></span></code></pre></div></li>
<li>
<p>spawn</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">spawn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;child_process&#34;</span><span class="p">).</span><span class="nx">spawn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">process</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">(</span><span class="s2">&#34;python&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;test.py&#34;</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">process</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;data&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span> <span class="c1">// 실행 결과
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">process</span><span class="p">.</span><span class="nx">stderr</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;data&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span> <span class="c1">// 실행 에러
</span></span></span></code></pre></div></li>
</ul>
</div>
</details>
<h4 id="9-기타-모듈" class="relative group">9. 기타 모듈 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#9-%ea%b8%b0%ed%83%80-%eb%aa%a8%eb%93%88" aria-label="Anchor">#</a></span></h4><ul>
<li>async_hooks: 비동기 코드의 흐름을 추적할 수 있는 실험적인 모듈입니다.</li>
<li>dgram: UDP와 관련된 작업을 할 때 사용합니다.</li>
<li>net: HTTP보다 로우 레벨인 TCP나 IPC 통신을 할 때 사용합니다.</li>
<li>perf_hooks: 성능 측정을 할 때 console.time보다 더 정교하게 측정합니다.</li>
<li>querystring: URLSearchParams가 나오기 이전에 쿼리스트링을 다루기 위해 사용했던 모듈입니다. 요즘은 URLSearchParams를 사용하는 것을 권장합니다.</li>
<li>string_decoder: 버퍼 데이터를 문자열로 바꾸는 데 사용합니다.</li>
<li>tls: TLS와 SSL에 관련된 작업을 할 때 사용합니다.</li>
<li>tty: 터미널과 관련된 작업을 할 때 사용합니다.</li>
<li>v8: v8 엔진에 직접 접근할 때 사용합니다.</li>
<li>vm: 가상 머신에 직접 접근할 때 사용합니다.</li>
<li>wasi: 웹어셈블리를 실행할 때 사용하는 실험적인 모듈입니다.</li>
</ul>
<h3 id="4-fs-" class="relative group">4) fs (●●●) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#4-fs-" aria-label="Anchor">#</a></span></h3><ul>
<li>파일 시스템에 접근하는 모듈</li>
<li>웹 브라우저에서는 제한적이나 노드는 권한을 지니고 있음</li>
<li>파일의 경로는 현재 파일 기준이 아니라 <code>node 명령어를 실행하는 콘솔 기준</code></li>
</ul>
<h4 id="1-비동기-메서드" class="relative group">1. 비동기 메서드 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-%eb%b9%84%eb%8f%99%ea%b8%b0-%eb%a9%94%ec%84%9c%eb%93%9c" aria-label="Anchor">#</a></span></h4><ul>
<li><code>fs.readFile(경로, 콜백)</code> &amp; <code>fs.writeFile(경로, 내용, 콜백)</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s2">&#34;./writeme.txt&#34;</span><span class="p">,</span> <span class="s2">&#34;글이 입력됩니다&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s2">&#34;./writeme.txt&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><h4 id="2-동기-메서드" class="relative group">2. 동기 메서드 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#2-%eb%8f%99%ea%b8%b0-%eb%a9%94%ec%84%9c%eb%93%9c" aria-label="Anchor">#</a></span></h4><ul>
<li>fs.readFileSync(경로, 콜백) &amp; writeFileSync(경로, 내용, 콜백)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;시작&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s2">&#34;./readme2.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;1번&#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s2">&#34;./readme2.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;2번&#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s2">&#34;./readme2.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;3번&#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;끝&#34;</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>요청이 많을 때 비효율적임</li>
<li>프로그램을 처음 실행할 때 초기화 용도로만 사용하는 것을 권장</li>
</ul>
<h4 id="3-비동기-메서드로-순서-유지" class="relative group">3. 비동기 메서드로 순서 유지 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#3-%eb%b9%84%eb%8f%99%ea%b8%b0-%eb%a9%94%ec%84%9c%eb%93%9c%eb%a1%9c-%ec%88%9c%ec%84%9c-%ec%9c%a0%ec%a7%80" aria-label="Anchor">#</a></span></h4><ul>
<li><code>.promises</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">).</span><span class="nx">promises</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;시작&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s2">&#34;./readme2.txt&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;1번&#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s2">&#34;./readme2.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;2번&#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s2">&#34;./readme2.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;3번&#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;끝&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span></code></pre></div><h4 id="4-버퍼" class="relative group">4. 버퍼 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#4-%eb%b2%84%ed%8d%bc" aria-label="Anchor">#</a></span></h4><ul>
<li>일정한 크기로 모아두는 데이터</li>
<li>일정한 크기가 되면 한 번에 처리</li>
<li>메모리 문제가 생길 수 있음</li>
<li>버퍼에 데이터가 찰 때까지 모으는 작업을 버퍼링이라고 함</li>
</ul>
<table>
<thead>
<tr>
<th>Properties &amp; Methods</th>
<th>Return</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buffer.length</td>
<td>버퍼의 크기(byte)</td>
</tr>
<tr>
<td>Buffer.from(문자열)</td>
<td>문자열로 만든 버퍼</td>
</tr>
<tr>
<td>Buffer.toString()</td>
<td>버퍼로 만든 문자열</td>
</tr>
<tr>
<td>Buffer.concat(배열)</td>
<td>배열안의 버퍼를 합쳐서 만든 버퍼</td>
</tr>
<tr>
<td>Buffer.alloc(바이트)</td>
<td>해당 바이트의 크기를 지니는 빈 버퍼</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">buffer</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="s2">&#34;저를 버퍼로 바꿔보세요&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;from():&#34;</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;length:&#34;</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;toString():&#34;</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="s2">&#34;띄엄 &#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="s2">&#34;띄엄 &#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="s2">&#34;띄어쓰기&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">buffer2</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;concat():&#34;</span><span class="p">,</span> <span class="nx">buffer2</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">buffer3</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">alloc</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;alloc():&#34;</span><span class="p">,</span> <span class="nx">buffer3</span><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">from<span class="o">()</span>: &lt;Buffer ec a0 <span class="m">80</span> eb a5 bc <span class="m">20</span> eb b2 <span class="m">84</span> ed 8d bc eb a1 9c <span class="m">20</span> eb b0 <span class="m">94</span> ea bf <span class="m">94</span> eb b3 b4 ec <span class="m">84</span> b8 ec 9a 94&gt;
</span></span><span class="line"><span class="cl">length: <span class="m">32</span>
</span></span><span class="line"><span class="cl">toString<span class="o">()</span>: 저를 버퍼로 바꿔보세요
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">concat<span class="o">()</span>: 띄엄 띄엄 띄어쓰기length
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">alloc<span class="o">()</span>: &lt;Buffer <span class="m">00</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span> 00&gt;
</span></span></code></pre></div><h4 id="5-스트림" class="relative group">5. 스트림 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#5-%ec%8a%a4%ed%8a%b8%eb%a6%bc" aria-label="Anchor">#</a></span></h4><ul>
<li>
<p>데이터의 흐름</p>
</li>
<li>
<p>일정한 크기로 나눠서 여러 번에 걸쳐서 처리</p>
</li>
<li>
<p>버퍼(청크)의 크기를 작게 만들어서 주기적으로 데이터를 전달</p>
</li>
<li>
<p>일정한 크기의 데이터를 지속적으로 전달하는 작업을 스트림이라고 함</p>
</li>
<li>
<p><code>fs.createReadStream(경로, 옵션)</code></p>
<ul>
<li><code>highWaterMark</code> 옵션은 버퍼의 크기(바이트 단위, 기본값 64KB)</li>
<li><code>data[chunk 전달]</code>, <code>end[전달 완료]</code>, <code>error[에러 발생]</code> 이벤트 리스너와 같이 사용</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">저는 조금씩 조금씩 나눠서 전달됩니다. 나눠진 조각을 chunk라고 부릅니다.
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">readStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s2">&#34;./readme3.txt&#34;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">highWaterMark</span><span class="o">:</span> <span class="mi">16</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">readStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;data&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">chunk</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;data :&#34;</span><span class="p">,</span> <span class="nx">chunk</span><span class="p">,</span> <span class="nx">chunk</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">readStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;end&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;end :&#34;</span><span class="p">,</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">toString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">readStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;error&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;error :&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">data : &lt;Buffer ec a0 <span class="m">80</span> eb 8a <span class="m">94</span> <span class="m">20</span> ec a1 b0 ea b8 <span class="m">88</span> ec <span class="m">94</span> a9&gt; <span class="m">16</span>
</span></span><span class="line"><span class="cl">data : &lt;Buffer <span class="m">20</span> ec a1 b0 ea b8 <span class="m">88</span> ec <span class="m">94</span> a9 <span class="m">20</span> eb <span class="m">82</span> <span class="m">98</span> eb 88&gt; <span class="m">16</span>
</span></span><span class="line"><span class="cl">data : &lt;Buffer a0 ec <span class="m">84</span> 9c <span class="m">20</span> ec a0 <span class="m">84</span> eb 8b ac eb <span class="m">90</span> a9 eb 8b&gt; <span class="m">16</span>
</span></span><span class="line"><span class="cl">data : &lt;Buffer <span class="m">88</span> eb 8b a4 2e <span class="m">20</span> eb <span class="m">82</span> <span class="m">98</span> eb <span class="m">88</span> a0 ec a7 <span class="m">84</span> 20&gt; <span class="m">16</span>
</span></span><span class="line"><span class="cl">data : &lt;Buffer ec a1 b0 ea b0 <span class="m">81</span> ec 9d <span class="m">84</span> <span class="m">20</span> <span class="m">63</span> <span class="m">68</span> <span class="m">75</span> 6e 6b eb&gt; <span class="m">16</span>
</span></span><span class="line"><span class="cl">data : &lt;Buffer 9d bc ea b3 a0 <span class="m">20</span> eb b6 <span class="m">80</span> eb a6 <span class="m">85</span> eb 8b <span class="m">88</span> eb&gt; <span class="m">16</span>
</span></span><span class="line"><span class="cl">data : &lt;Buffer 8b a4 2e&gt; <span class="m">3</span>
</span></span><span class="line"><span class="cl">end : 저는 조금씩 조금씩 나눠서 전달됩니다. 나눠진 조각을 chunk라고 부릅니다.
</span></span></code></pre></div></li>
<li>
<p><code>fs.createWriteStream(경로)</code></p>
<ul>
<li><code>.write(chunk)</code>로 쓰고 <code>.end()</code>로 종료</li>
<li><code>finish[종료]</code> 이벤트 리스너와 같이 사용</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">writeStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s2">&#34;./writeme2.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">writeStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;finish&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;파일 쓰기 완료&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">writeStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">&#34;이 글을 씁니다.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">writeStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">&#34;한 번 더 씁니다.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">writeStream</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">파일 쓰기 완료
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">이 글을 씁니다.
</span></span><span class="line"><span class="cl">한 번 더 씁니다.
</span></span></code></pre></div></li>
</ul>
<h4 id="6-파이프" class="relative group">6. 파이프 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#6-%ed%8c%8c%ec%9d%b4%ed%94%84" aria-label="Anchor">#</a></span></h4><ul>
<li>
<p><code>스트림.pipe(스트림)</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">readStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s2">&#34;readme4.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">writeStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s2">&#34;writeme3.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">readStream</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">writeStream</span><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">zlib</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;zlib&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">readStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s2">&#34;./readme4.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">zlibStream</span> <span class="o">=</span> <span class="nx">zlib</span><span class="p">.</span><span class="nx">createGzip</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">writeStream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s2">&#34;./readme4.txt.gz&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">readStream</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">zlibStream</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">writeStream</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p><code>await pipeline(스트림, ..., { signal })</code></p>
<ul>
<li><code>AbortController</code>를 사용해 원할 때 파이프를 중단할 수 있음</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">pipeline</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;stream/promises&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">zlib</span> <span class="nx">from</span> <span class="s2">&#34;zlib&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">fs</span> <span class="nx">from</span> <span class="s2">&#34;fs&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">ac</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AbortController</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">signal</span> <span class="o">=</span> <span class="nx">ac</span><span class="p">.</span><span class="nx">signal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">ac</span><span class="p">.</span><span class="nx">abort</span><span class="p">(),</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// 1ms 뒤에 중단
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">await</span> <span class="nx">pipeline</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s2">&#34;./readme4.txt&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">zlib</span><span class="p">.</span><span class="nx">createGzip</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s2">&#34;./readme4.txt.gz&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nx">signal</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="7-기타-fs-메서드" class="relative group">7. 기타 fs 메서드 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#7-%ea%b8%b0%ed%83%80-fs-%eb%a9%94%ec%84%9c%eb%93%9c" aria-label="Anchor">#</a></span></h4><table>
<thead>
<tr>
<th>Methods</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fs.access(경로, 옵션, 콜백)</code></td>
<td>파일/폴더에 접근할 수 있는지 여부 체크<br/><em>*옵션은 <code>constants</code>로 가져옴(<code>F_OK</code>는 파일 존재 여부, <code>R_OK</code>는 읽기 권한 여부, <code>W_OK</code>는 쓰기 권한 여부)</em><br/><em>*파일/폴더가 없을 때의 에러 코드는 <code>ENOENT</code></em></td>
</tr>
<tr>
<td><code>fs.mkdir(경로, 콜백)</code></td>
<td>폴더를 만듦<br/><em>*이미 폴더가 있으면 에러가 발생하므로 먼저 access 메서드를 호출해서 확인하는 것이 중요</em></td>
</tr>
<tr>
<td><code>fs.open(경로, 옵션, 콜백)</code></td>
<td>파일의 아이디(fd 변수)를 가져옴<br/><em>*파일이 없으면 파일을 생성한 뒤 그 아이디를 가져옴</em><br/><em>*가져온 아이디를 사용해 fs.read 또는 fs.write 사용 가능</em><br/><em>*옵션으로 어떤 동작을 할 것인지를 설정할 수 있음(쓰려면 w, 읽으려면 r, 기존 파일에 추가하려면 a)</em></td>
</tr>
<tr>
<td><code>fs.rename(기존 경로, 새 경로, 콜백)</code></td>
<td>파일의 위치 or 이름 변경</td>
</tr>
<tr>
<td><code>fs.readdir(경로, 콜백)</code></td>
<td>폴더 안의 내용물 확인, 배열 안에 내부의 파일명과 폴더명이 담김</td>
</tr>
<tr>
<td><code>fs.unlink(경로, 콜백)</code></td>
<td>파일을 지움<br/><em>*파일이 없으면 에러 발생</em></td>
</tr>
<tr>
<td><code>fs.rmdir(경로, 콜백)</code></td>
<td>폴더를 지움<br/><em>*폴더 안에 파일들이 있으면 에러가 발생하므로 먼저 내부 파일을 모두 지우고 호출해야 함</em></td>
</tr>
<tr>
<td><code>fs.copyFile(복사할 경로, 복사될 경로, 콜백)</code></td>
<td>파일 복사</td>
</tr>
<tr>
<td><code>fs.watch(감시할 경로, 콜백(eventType, filename))</code></td>
<td>파일/폴더의 변경 사항 감지</td>
</tr>
<tr>
<td><code>fs.exists(경로, 콜백)</code></td>
<td>파일/폴더 존재 여부 체크</td>
</tr>
<tr>
<td><code>fs.stat(경로, 콜백)</code></td>
<td>파일/폴더 정보 확인</td>
</tr>
</tbody>
</table>
<ul>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">).</span><span class="nx">promises</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">constants</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">).</span><span class="nx">constants</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">fs</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;./folder/file.txt&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">constants</span><span class="p">.</span><span class="nx">F_OK</span> <span class="o">|</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">W_OK</span> <span class="o">|</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">R_OK</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;파일 있음&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">unlink</span><span class="p">(</span><span class="s2">&#34;./folder/file.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">code</span> <span class="o">===</span> <span class="s2">&#34;ENOENT&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;파일 없음&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s2">&#34;./folder/file.txt&#34;</span><span class="p">,</span> <span class="s2">&#34;asdasd&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">).</span><span class="nx">promises</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">constants</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">).</span><span class="nx">constants</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">fs</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span><span class="s2">&#34;./folder&#34;</span><span class="p">,</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">F_OK</span> <span class="o">|</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">W_OK</span> <span class="o">|</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">R_OK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="s2">&#34;이미 폴더 있음&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">code</span> <span class="o">===</span> <span class="s2">&#34;ENOENT&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;폴더 없음&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">mkdir</span><span class="p">(</span><span class="s2">&#34;./folder&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;폴더 만들기 성공&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&#34;./folder/file.js&#34;</span><span class="p">,</span> <span class="s2">&#34;w&#34;</span><span class="p">);</span> <span class="c1">// r이나 a를 사용했으면 에러 발생
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">fd</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;빈 파일 만들기 성공&#34;</span><span class="p">,</span> <span class="nx">fd</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">rename</span><span class="p">(</span><span class="s2">&#34;./folder/file.js&#34;</span><span class="p">,</span> <span class="s2">&#34;./folder/newfile.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;이름 바꾸기 성공&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ node fsCreate
</span></span><span class="line"><span class="cl">폴더 없음
</span></span><span class="line"><span class="cl">폴더 만들기 성공
</span></span><span class="line"><span class="cl">빈 파일 만들기 성공 <span class="m">3</span>
</span></span><span class="line"><span class="cl">이름 바꾸기 성공
</span></span><span class="line"><span class="cl">$ node fsCreate
</span></span><span class="line"><span class="cl">이미 폴더 있음
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">).</span><span class="nx">promises</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">fs</span><span class="p">.</span><span class="nx">readdir</span><span class="p">(</span><span class="s2">&#34;./folder&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">dir</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;폴더 내용 확인&#34;</span><span class="p">,</span> <span class="nx">dir</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">unlink</span><span class="p">(</span><span class="s2">&#34;./folder/newfile.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;파일 삭제 성공&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">rmdir</span><span class="p">(</span><span class="s2">&#34;./folder&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;폴더 삭제 성공&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">폴더 내용 확인 <span class="o">[</span> <span class="s1">&#39;newfile.js&#39;</span> <span class="o">]</span>
</span></span><span class="line"><span class="cl">파일 삭제 성공
</span></span><span class="line"><span class="cl">폴더 삭제 성공
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">fs</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s2">&#34;./target.txt&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">eventType</span><span class="p">,</span> <span class="nx">filename</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventType</span><span class="p">,</span> <span class="nx">filename</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">// 내용물 수정 후
</span></span><span class="line"><span class="cl">change target.txt
</span></span><span class="line"><span class="cl">change target.txt
</span></span><span class="line"><span class="cl">// 파일명 변경 또는 파일 삭제 후
</span></span><span class="line"><span class="cl">rename target.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// rename 이벤트가 발생한 후에는 더 이상 watch가 수행되지 않음
</span></span><span class="line"><span class="cl">// change 이벤트가 두 번씩 발생하기도 하므로 실무에서 사용할 때는 주의가 필요
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">).</span><span class="nx">promises</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">example</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">stat</span><span class="p">(</span><span class="s2">&#34;/Users/joe/test.txt&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">stats</span><span class="p">.</span><span class="nx">isFile</span><span class="p">();</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">stats</span><span class="p">.</span><span class="nx">isDirectory</span><span class="p">();</span> <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">stats</span><span class="p">.</span><span class="nx">isSymbolicLink</span><span class="p">();</span> <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">stats</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span> <span class="c1">// 1024000 //= 1MB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">example</span><span class="p">();</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="5-기타" class="relative group">5) 기타 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#5-%ea%b8%b0%ed%83%80" aria-label="Anchor">#</a></span></h3><h4 id="1-events-" class="relative group">1. events (●○○) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-events-" aria-label="Anchor">#</a></span></h4><table>
<thead>
<tr>
<th>Methods</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>on(이벤트명, 콜백)</td>
<td>이벤트명과 이벤트 발생 시의 콜백 연결</td>
</tr>
<tr>
<td>addListener(이벤트명, 콜백)</td>
<td>on과 동일</td>
</tr>
<tr>
<td>emit(이벤트명)</td>
<td>이벤트 호출</td>
</tr>
<tr>
<td>once(이벤트명, 콜백)</td>
<td>한 번만 실행되는 이벤트 등록</td>
</tr>
<tr>
<td>removeAllListeners(이벤트명)</td>
<td>이벤트명에 연결된 모든 이벤트 리스너 제거</td>
</tr>
<tr>
<td>removeListener(이벤트명)</td>
<td>이벤트에 연결된 리스너를 하나씩 제거</td>
</tr>
<tr>
<td>off(이벤트명, 콜백)</td>
<td>removeListener와 동일</td>
</tr>
<tr>
<td>listenerCount(이벤트명)</td>
<td>현재 연결된 리스너 개수 확인</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">EventEmitter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;events&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">myEvent</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="s2">&#34;event1&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;이벤트 1&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;event2&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;이벤트 2&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;event2&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;이벤트 2 추가&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="s2">&#34;event3&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;이벤트 3&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span> <span class="c1">// 한 번만 실행됨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&#34;event1&#34;</span><span class="p">);</span> <span class="c1">// 이벤트 호출
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">myEvent</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&#34;event2&#34;</span><span class="p">);</span> <span class="c1">// 이벤트 호출
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&#34;event3&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&#34;event3&#34;</span><span class="p">);</span> <span class="c1">// 실행 안 됨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;event4&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;이벤트 4&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">removeAllListeners</span><span class="p">(</span><span class="s2">&#34;event4&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&#34;event4&#34;</span><span class="p">);</span> <span class="c1">// 실행 안 됨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">listener</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;이벤트 5&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;event5&#34;</span><span class="p">,</span> <span class="nx">listener</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">removeListener</span><span class="p">(</span><span class="s2">&#34;event5&#34;</span><span class="p">,</span> <span class="nx">listener</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">myEvent</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&#34;event5&#34;</span><span class="p">);</span> <span class="c1">// 실행 안 됨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myEvent</span><span class="p">.</span><span class="nx">listenerCount</span><span class="p">(</span><span class="s2">&#34;event2&#34;</span><span class="p">));</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">이벤트 <span class="m">1</span>
</span></span><span class="line"><span class="cl">이벤트 <span class="m">2</span>
</span></span><span class="line"><span class="cl">이벤트 <span class="m">2</span> 추가
</span></span><span class="line"><span class="cl">이벤트 <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="m">2</span>
</span></span></code></pre></div><h4 id="2-에러-핸들링" class="relative group">2. 에러 핸들링 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#2-%ec%97%90%eb%9f%ac-%ed%95%b8%eb%93%a4%eb%a7%81" aria-label="Anchor">#</a></span></h4><ul>
<li>
<p>기본적으로 <code>try catch</code> 문으로 예외를 처리</p>
</li>
<li>
<p>노드 내장 모듈의 에러는 실행 중인 프로세스를 멈추지 않음</p>
</li>
<li>
<p>프로미스의 에러와 throw 된 에러는 반드시 catch 해야 함</p>
</li>
<li>
<p><code>uncaughtException</code></p>
<ul>
<li>노드 공식 문서에서는 uncaughtException 이벤트를 최후의 수단으로 사용할 것을 명시</li>
<li>노드는 uncaughtException 이벤트 발생 후 다음 동작이 제대로 동작하는지를 보증하지 않음</li>
<li>uncaughtException은 단순히 에러 내용을 기록하는 정도로 사용하고, 에러를 기록한 후 process.exit()으로 프로세스를 종료하는 것이 좋음</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;uncaughtException&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&#34;예기치 못한 에러&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&#34;서버를 고장내주마!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;실행됩니다&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>자주 발생하는 에러들</p>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>node: command not found</td>
<td>노드를 설치했지만 이 에러가 발생하는 경우는 환경 변수가 제대로 설정되어 있지 않은 것<br/>환경 변수에는 노드가 설치된 경로가 포함되어야 함</td>
</tr>
<tr>
<td>ReferenceError: [모듈] is not defined</td>
<td>모듈을 require하지 않음</td>
</tr>
<tr>
<td>Error: Cannot find module [모듈명]</td>
<td>해당 모듈을 require했지만 설치하지 않음</td>
</tr>
<tr>
<td>Error [ERR_MODULE_NOT_FOUND]</td>
<td>존재하지 않는 모듈을 불러오려 함</td>
</tr>
<tr>
<td>Error: Can&rsquo;t set headers after they are sent</td>
<td>응답을 두 번 이상 보냄</td>
</tr>
<tr>
<td>FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed- JavaScript heap out of memory</td>
<td>메모리가 부족해서 스크립트가 정상적으로 작동하지 않음<br/>1. 코드 점검<br/>2. <code>node --max-old-space-size=4096 파일명</code>과 같은 명령어로 노드 메모리를 늘림</td>
</tr>
<tr>
<td>UnhandledPromiseRejectionWarning: Unhandled promise rejection</td>
<td>프로미스 사용 시 catch 메서드를 붙이지 않음</td>
</tr>
<tr>
<td>EADDRINUSE [포트 번호]</td>
<td>해당 포트 번호에 이미 다른 프로세스가 연결되어 있음</td>
</tr>
<tr>
<td>EACCES 또는 EPERM</td>
<td>노드가 작업을 수행하는 데 권한이 충분하지 않음</td>
</tr>
<tr>
<td>EJSONPARSE</td>
<td>package.json 등의 JSON 파일에 문법 오류가 있을 때 발생</td>
</tr>
<tr>
<td>ECONNREFUSED</td>
<td>요청을 보냈으나 연결이 성립하지 않을 때 발생</td>
</tr>
<tr>
<td>ETARGET</td>
<td>package.json에 기록한 패키지 버전이 존재하지 않을 때 발생</td>
</tr>
<tr>
<td>ETIMEOUT</td>
<td>요청을 보냈으나 응답이 시간 내에 오지 않을 때 발생</td>
</tr>
<tr>
<td>ENOENT: no such file or directory</td>
<td>지정한 폴더나 파일이 존재하지 않는 경우</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>맥/리눅스에서 프로세스 종료하기</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">lsof -i tcp:<span class="o">[</span>포트<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">kill</span> -9 <span class="o">[</span>프로세스아이디<span class="o">]</span>
</span></span></code></pre></div></li>
</ul>
<hr>
<p>Reference.</p>
<ul>
<li><a href="https://nodejs.org/en/docs" target="_blank" rel="noreferrer">https://nodejs.org/en/docs</a></li>
<li><a href="https://nodejs.org/dist/latest-v18.x/docs/api/cli.html#cli_node_options_options" target="_blank" rel="noreferrer">https://nodejs.org/dist/latest-v18.x/docs/api/cli.html#cli_node_options_options</a></li>
<li><a href="https://nodejs.org/dist/latest-v18.x/docs/api/cli.html#cli_uv_threadpool_size_size" target="_blank" rel="noreferrer">https://nodejs.org/dist/latest-v18.x/docs/api/cli.html#cli_uv_threadpool_size_size</a></li>
<li><a href="https://nodejs.org/dist/latest-v18.x/docs/api/errors.html#errors_node_js_error_codes" target="_blank" rel="noreferrer">https://nodejs.org/dist/latest-v18.x/docs/api/errors.html#errors_node_js_error_codes</a></li>
<li><a href="https://nodejs.org/dist/latest-v18.x/docs/api/process.html#process_event_uncaughtexception" target="_blank" rel="noreferrer">https://nodejs.org/dist/latest-v18.x/docs/api/process.html#process_event_uncaughtexception</a></li>
<li><a href="https://thebook.io/080334/0122/" target="_blank" rel="noreferrer">https://thebook.io/080334/0122/</a></li>
<li><a href="https://nodejs.org/api/crypto.html" target="_blank" rel="noreferrer">https://nodejs.org/api/crypto.html</a></li>
<li><a href="https://www.npmjs.com/package/crypto-js" target="_blank" rel="noreferrer">https://www.npmjs.com/package/crypto-js</a> (SHA512(단반향), AES(대칭), RSA(비대칭) 사용 추천)</li>
<li><a href="https://stackoverflow.com/questions/48698234/node-js-spawn-vs-execute" target="_blank" rel="noreferrer">https://stackoverflow.com/questions/48698234/node-js-spawn-vs-execute</a></li>
</ul>

      </div>
    </section>
    <footer class="max-w-prose pt-8 print:hidden">
      
  <div class="flex">
    
    
    
    <div class="place-self-center">
      
      
      <div class="text-2xl sm:text-lg">
</div>
    </div>
  </div>


      

      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="group flex" href="/posts/lectures/node.js-%EA%B5%90%EA%B3%BC%EC%84%9C/1/">
              <span
                class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&larr;</span
                ><span class="ltr:hidden rtl:inline">&rarr;</span></span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >[Node.js 교과서] Node.js란</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2023-04-02 00:00:00 &#43;0000 UTC">2 April 2023</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="group flex text-right" href="/posts/work/6/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >[B2B/리팩토링] 프로젝트 시작</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2023-05-07 00:00:00 &#43;0000 UTC">7 May 2023</time>
                  
                </span>
              </span>
              <span
                class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&rarr;</span
                ><span class="ltr:hidden rtl:inline">&larr;</span></span
              >
            </a>
          
        </span>
      </div>
    </div>
  


      
        
          
        
      
    </footer>
  </article>

      </main>
      
        <div
          class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12"
          id="to-top"
          hidden="true"
        >
          <a
            href="#the-top"
            class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
            aria-label="Scroll to top"
            title="Scroll to top"
          >
            &uarr;
          </a>
        </div>
      <footer class="py-10 print:hidden">
  
  
  <div class="flex items-center justify-between">
    <div>
      
      
        <p class="text-sm text-neutral-500 dark:text-neutral-400">
            © 2021 Yuchan&rsquo;s hello world!
        </p>
      
      
      
        <p class="text-xs text-neutral-500 dark:text-neutral-400">
          
          
          Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
            href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://github.com/jpanther/congo" target="_blank" rel="noopener noreferrer">Congo</a>
        </p>
      
    </div>
    <div class="flex flex-row items-center">
      
      
      
      
        <div
          class="me-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        >
          <button id="appearance-switcher-0" type="button" aria-label="appearance switcher">
            <div
              class="flex h-12 w-12 items-center justify-center dark:hidden"
              title="Switch to dark appearance"
            >
              <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
            </div>
            <div
              class="hidden h-12 w-12 items-center justify-center dark:flex"
              title="Switch to light appearance"
            >
              <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
            </div>
          </button>
        </div>
      
    </div>
  </div>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="https://yuchanjeong.github.io/"
>
  <div
    id="search-modal"
    class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex flex-none items-center justify-between px-2">
      <form class="flex min-w-0 flex-auto items-center">
        <div class="flex h-8 w-8 items-center justify-center text-neutral-400">
          <span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto overflow-auto px-2">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
</html>
